import { ExecutionResult, DocumentNode } from 'graphql';
import { FragmentMatcher } from 'graphql-anywhere';
import { ApolloCache } from 'apollo-cache';
import ApolloClient from '../ApolloClient';
import { Initializers, Resolvers, OperationVariables } from './types';
export declare class LocalState<TCacheShape> {
    private cache;
    private client;
    private resolvers;
    private typeDefs;
    private fragmentMatcher;
    private firedInitializers;
    constructor({ cache, client, initializers, resolvers, typeDefs, fragmentMatcher, }: {
        cache: ApolloCache<TCacheShape>;
        client?: ApolloClient<TCacheShape>;
        initializers?: Initializers<TCacheShape> | Initializers<TCacheShape>[];
        resolvers?: Resolvers | Resolvers[];
        typeDefs?: string | string[] | DocumentNode | DocumentNode[];
        fragmentMatcher?: FragmentMatcher;
    });
    runInitializers(initializers: Initializers<TCacheShape> | Initializers<TCacheShape>[]): Promise<void[]>;
    runInitializersSync(initializers: Initializers<TCacheShape> | Initializers<TCacheShape>[]): void;
    addResolvers(resolvers: Resolvers | Resolvers[]): void;
    setResolvers(resolvers: Resolvers | Resolvers[]): void;
    getResolvers(): Resolvers | Resolvers[];
    runResolvers({ query, remoteResult, context, variables, onError, }: {
        query: DocumentNode | null;
        remoteResult?: ExecutionResult;
        context?: Record<string, any>;
        variables?: Record<string, any>;
        onError?: (error: any) => void;
    }): {
        data?: {
            [key: string]: any;
        } | undefined;
        extensions?: {
            [key: string]: any;
        } | undefined;
        errors?: import("graphql/error/GraphQLError").GraphQLError[] | undefined;
    } | undefined;
    setTypeDefs(typeDefs: string | string[] | DocumentNode | DocumentNode[]): void;
    getTypeDefs(): string | string[] | DocumentNode | DocumentNode[];
    setFragmentMatcher(fragmentMatcher: FragmentMatcher): void;
    getFragmentMatcher(): FragmentMatcher;
    clientQuery(document: DocumentNode): DocumentNode | null;
    serverQuery(document: DocumentNode): DocumentNode | null;
    prepareContext(context?: {}): {
        cache: ApolloCache<TCacheShape>;
        getCacheKey: (obj: {
            __typename: string;
            id: string | number;
        }) => any;
        schemas: object[];
    };
    addExportedVariables(document: DocumentNode, variables?: OperationVariables, context?: {}): {
        [x: string]: any;
    };
    resetInitializers(): void;
    private mergeInitializers;
    private processInitializers;
    private prepareResolver;
    private buildRootValueFromCache;
    private removeClientSetsFromDocument;
    private normalizeTypeDefs;
}
//# sourceMappingURL=LocalState.d.ts.map